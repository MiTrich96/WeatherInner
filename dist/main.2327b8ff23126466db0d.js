!function(){"use strict";var e={691:function(e,t,n){var a=function(e,t,n=null){return fetch(t).then((e=>e.json())).catch((e=>console.error(e)))};var o={createStorage:function(e,t){null===localStorage.getItem(e)&&localStorage.setItem(e,t)},saveToStorage:function(e,t){localStorage.setItem(e,t)},loadFromStorage:function(e){return localStorage.getItem(e)}};var r=function(e){[...document.getElementsByClassName("header_item_link")].map((e=>{e.classList.remove("active_button")})),e.classList.add("active_button")};var c=function(){let e;e="BY"===o.loadFromStorage("language")?"belarus":"canada",a("GET",`https://api.unsplash.com/photos/random?query=${e}&client_id=fAJsvfFwoBMfY8C7PUlHEJ_vbdTjeOTDk6UdhMerMyw`).then((e=>{document.querySelector(".application_image").style.backgroundImage=`URL(${e.urls.regular})`})).catch((e=>console.log(e)))};let s;function i(){!function(){let e=o.loadFromStorage("language"),t=o.loadFromStorage("degree");s="RU"===e||"BY"===e?{language:"Язык (RU)",changeImage:"Поменять картинку",celcium:`Единица измерения (${"ce"===t?"°C":"°F"})`,city:"Найти населенный пункт",search:"Найти"}:{language:"Language (EN)",changeImage:"Change image",celcium:`Unit of temperature (${"ce"===t?"°C":"°F"})`,city:"Search your city",search:"Search"}}();const e=document.querySelector(".current_page"),t=document.createElement("div");t.classList.add("application_control"),t.classList.add("block"),t.innerHTML=`\n            <div class="control_inner">\n                <div class="control_buttons">\n                    <button class="control_button change_language button">${s.language}</button>\n                    <button class="control_button change_image button">${s.changeImage}</button>\n                    <button class="control_button change_degree button">${s.celcium}</button>\n                </div>\n                <div class="control_search">\n                    <form action="">\n                        <input class="search_geo" type="text" placeholder="${s.city}">\n                        <input class="search_geo_send button" type="submit" value="${s.search}">\n                    </form>\n                </div>\n            </div>\n    `,e.appendChild(t)}function l(){let e=o.loadFromStorage("language");"RU"===e||"BY"===e?o.saveToStorage("language","EN"):o.saveToStorage("language","RU"),R(),m()}function d(){"ce"===o.loadFromStorage("degree")?o.saveToStorage("degree","fa"):o.saveToStorage("degree","ce"),m()}function u(){c()}function g(){const e=document.querySelector(".search_geo");o.saveToStorage("city",e.value);document.querySelector(".today").click()}function m(){let e=document.querySelector(".change_language");e&&e.removeEventListener("click",l);let t=document.querySelector(".change_degree");t&&t.removeEventListener("click",d);let n=document.querySelector(".change_image");n&&n.removeEventListener("click",u);let a=document.querySelector(".search_geo_send");a&&a.removeEventListener("click",g);let o=document.querySelector(".block");o&&o.parentNode.removeChild(o),i(),n=document.querySelector(".change_image"),n.addEventListener("click",u),t=document.querySelector(".change_degree"),t.addEventListener("click",d),e=document.querySelector(".change_language"),e.addEventListener("click",l),a=document.querySelector(".search_geo_send"),a.addEventListener("click",g)}var p=m,h=n.p+"56121b97cc7a8689f82b1fad982444ae.png",v=n.p+"0df07e214e9be1a9e31b6d33e9ec1c2f.png",y=n.p+"c68399b64b405287d1709eed2a4c1b8e.png",f=n.p+"6607efa89d37d13acdd73c6b562634a3.png";var _=function(){!function(){const e=document.querySelector(".current_page"),t=document.createElement("div");t.classList.add("error_message"),t.classList.add("block"),t.innerHTML="Your city not found",e.appendChild(t)}(),setTimeout((function(){M()}),2e3)};let b;function S(){let e=o.loadFromStorage("city");"Homyel'"===e&&(e="Gomel");a("GET",`https://api.weatherapi.com/v1/current.json?key=5a1e87cfcc7d4a4b93d120756202611&q=${e}`).then((e=>{!function(e){let t=o.loadFromStorage("language"),n=o.loadFromStorage("degree"),a=new Date;b="RU"===t||"BY"===t?{city:`${e.location.name}`,country:`${e.location.country}`,day:"Сб 26 сентябрь",time:`${1===String(a.getHours()).length?"0"+a.getHours():a.getHours()}:${1===String(a.getMinutes()).length?"0"+a.getMinutes():a.getMinutes()}:${1===String(a.getSeconds()).length?"0"+a.getSeconds():a.getSeconds()}`,temperature:"Ощущаемая температура: ",numberDegree:`${"ce"===n?e.current.temp_c:e.current.temp_f}`,degree:"ce"===n?" °C":" °F",windTitle:"Скорость ветра: ",wind:`${e.current.wind_kph} км/ч`,waterTitle:"Относительная влажность: ",water:`${e.current.humidity} %`}:{city:`${e.location.name}`,country:`${e.location.country}`,day:"Sa 26 september",time:`${1===String(a.getHours()).length?"0"+a.getHours():a.getHours()}:${1===String(a.getMinutes()).length?"0"+a.getMinutes():a.getMinutes()}:${1===String(a.getSeconds()).length?"0"+a.getSeconds():a.getSeconds()}`,temperature:"Perceived temperature: ",numberDegree:`${"ce"===n?e.current.temp_c:e.current.temp_f}`,degree:"ce"===n?" °C":" °F",windTitle:"Speed of wind: ",wind:`${e.current.wind_kph} km/h`,waterTitle:"Relative humidity: ",water:`${e.current.humidity} %`}}(e),function(){const e=document.querySelector(".current_page"),t=document.createElement("div");t.classList.add("application_control"),t.classList.add("block"),t.innerHTML=`\n        <div class="weather_today block">\n            <div class="weather_today_wrap">\n                <div class="today_top">\n                    <div class="today_city">${b.city}</div>\n                    <div class="today_country">${b.country}</div>\n                    <div class="today_date">${b.day}</div>\n                    <div class="today_time">${b.time}</div>\n                </div>\n                <div class="today_left">\n                    <div class="today_temperature">\n                        <img class="today_temperature_image" src="${h}" alt="temperature">\n                        <div class="today_temperature_value">${b.numberDegree} <span class="degree">${b.degree}</span></div>\n                    </div>\n                </div>\n                <div class="today_right day_stat">\n                    <div class="today_apparent">\n                        <span class="today_name">${b.temperature}</span>\n                        <span class="today_stat apparent">${b.numberDegree} <span class="degree">${b.degree}</span></span>\n                        <img class="favicon" src="${f}"/>\n                    </div>\n                    <div class="today_wind">\n                        <span class="today_name">${b.windTitle}</span>\n                        <span class="today_stat apparent">${b.wind}</span>\n                        <img class="favicon" src="${v}"/>\n                    </div>\n                    <div class="today_water">\n                        <span class="today_name">${b.waterTitle}</span>\n                        <span class="today_stat apparent">${b.water}</span>\n                        <img class="favicon" src="${y}"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,e.appendChild(t)}(),function(){const e=document.querySelector(".today_date");let t,n,a={weekday:"long"},r=o.loadFromStorage("language"),c=new Date;"RU"===r||"BY"===r?(t=new Intl.DateTimeFormat("ru-RU",a).format(c),n=c.toLocaleString("ru",{month:"long"})):(t=new Intl.DateTimeFormat("en-US",a).format(c),n=c.toLocaleString("en",{month:"long"})),e.innerHTML=`${t} ${c.getDate()} ${n}`}()})).catch((e=>{_()}))}var $=function(){S()};let w;function k(){let e=o.loadFromStorage("city");"Homiel'"===e&&(e="Gomel");a("GET",`https://api.opencagedata.com/geocode/v1/json?q=${e}&key=2f32be23bc5245c8bd3febc0a4f03b94&pretty=1&no_annotations=1`).then((e=>{!function(e){let t=o.loadFromStorage("city");"Homyel'"===t&&(t="Gomel");const n=`https://api.climacell.co/v3/weather/forecast/daily?lat=${e.results[e.results.length-1].bounds.northeast.lat}&lon=${e.results[e.results.length-1].bounds.northeast.lng}&unit_system=si&start_time=now&fields=feels_like%2Ctemp%2Chumidity%2Cwind_speed%2Cweather_code&apikey=qEplSE2RzKngcBiPOCSCebLFLzMbcLg0`;a("GET",n).then((e=>{!function(e){let t=o.loadFromStorage("language"),n={weekday:"long"},a=new Date,r=new Date;r.setDate(r.getDay()+3),"RU"===t||"BY"===t?(a=new Intl.DateTimeFormat("ru-RU",n).format(a),r=new Intl.DateTimeFormat("ru-RU",n).format(r)):(a=new Intl.DateTimeFormat("en-US",n).format(a),r=new Intl.DateTimeFormat("en-US",n).format(r)),w="RU"===t||"BY"===t?{title:"Средние показатели на 3 дня",day:`${a} - ${r}`,temperature:"Ощущаемая температура: ",numberDegree:e.degree.toFixed(3),degree:"°C",windTitle:"Скорость ветра: ",wind:`${e.wind.toFixed(3)} км/ч`,waterTitle:"Относительная влажность: ",water:`${e.water.toFixed(3)} %`}:{title:"Average data for 3 days",day:`${a} - ${r}`,temperature:"Perceived temperature: ",numberDegree:e.degree.toFixed(3),degree:"°C",windTitle:"Speed of wind: ",wind:`${e.wind.toFixed(3)} km/h`,waterTitle:"Relative humidity: ",water:`${e.water.toFixed(3)} %`}}(function(e){const t={degree:0,wind:0,water:0};let n;for(let a=0;a<3;a++)n=(e[a].temp[0].min.value+e[a].temp[1].max.value)/2,t.degree+=n,n=(e[a].humidity[0].min.value+e[a].humidity[1].max.value)/2,t.water+=n,n=(e[a].wind_speed[0].min.value+e[a].wind_speed[1].max.value)/2,t.wind+=n;return t.degree/=3,t.wind/=3,t.water/=3,t}(e)),function(){const e=document.querySelector(".current_page"),t=document.createElement("div");t.classList.add("application_control"),t.classList.add("block"),t.innerHTML=`\n        <div class="weather_three block">\n            <div class="three_top">\n                <div class="three_title">${w.title}</div>\n                <div class="three_day">${w.day}</div>\n            </div>\n            <div class="three_wrap day_stat">\n                <div class="today_apparent">\n                    <span class="today_name">${w.temperature}</span>\n                    <span class="today_stat apparent">${w.numberDegree} <span class="degree">${w.degree}</span></span>\n                    <img class="favicon" src="${f}"/>\n                </div>\n                <div class="today_wind">\n                    <span class="today_name">${w.windTitle}</span>\n                    <span class="today_stat apparent">${w.wind}</span>\n                    <img class="favicon" src="${v}"/>\n                </div>\n                <div class="today_water">\n                    <span class="today_name">${w.waterTitle}</span>\n                    <span class="today_stat apparent">${w.water}</span>\n                    <img class="favicon" src="${y}"/>\n                </div>\n            </div>\n        </div>\n    `,e.appendChild(t)}()})).catch((e=>console.log(e)))}(e)})).catch((e=>console.log(e)))}var T=function(){k()},L=n(539),F=n.n(L);let E;function q(){let e=o.loadFromStorage("city");"Homiel'"===e&&(e="Gomel");a("GET",`https://api.opencagedata.com/geocode/v1/json?q=${e}&key=2f32be23bc5245c8bd3febc0a4f03b94&pretty=1&no_annotations=1`).then((e=>{!function(e){let t=o.loadFromStorage("language");E="RU"===t||"BY"===t?{location:"Расположение населенного пункта: ",coords:`${e.results[e.results.length-1].bounds.northeast.lat}; ${e.results[e.results.length-1].bounds.northeast.lng}`}:{location:"Location of the city: ",coords:`${e.results[e.results.length-1].bounds.northeast.lat}; ${e.results[e.results.length-1].bounds.northeast.lng}`}}(e),function(){const e=document.querySelector(".current_page"),t=document.createElement("div");t.classList.add("application_control"),t.classList.add("block"),t.innerHTML=`\n        <div class="geo block">\n            <div class="geo_title">${E.location}</div>\n            <div class="geo_coord">${E.coords}</div>\n            <div class="geo_map">\n                <div id="map"></div>\n            </div>\n        </div>\n    `,e.appendChild(t)}(),function(e){F().accessToken="pk.eyJ1IjoibWl0cmljaDk2IiwiYSI6ImNraHp4aDg3ZjBqdXoydW10MmZmbTN3YzYifQ.LK1DYWREy9-6shJT_XXjLw",new(F().Map)({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[e.results[e.results.length-1].bounds.northeast.lng,e.results[e.results.length-1].bounds.northeast.lat],zoom:9})}(e)})).catch((e=>console.log(e)))}var C=function(){q()};let D=!1;var M=function(e){c();const t=document.querySelector(".control");let n=void 0===e?t:e.target;r(n),D?function(){const e=document.querySelector(".block");e.parentNode.removeChild(e)}():D=!D,[...n.classList].map((e=>{switch(e){case"control":p();break;case"today":$();break;case"three":T();break;case"geo_button":C()}}))};let H,x;function U(){const e=new Date;document.querySelector(".today_time").innerHTML=`${1===String(e.getHours()).length?"0"+e.getHours():e.getHours()}:${1===String(e.getMinutes()).length?"0"+e.getMinutes():e.getMinutes()}:${1===String(e.getSeconds()).length?"0"+e.getSeconds():e.getSeconds()}`}function I({target:e}){e.classList.contains("today")?setTimeout((()=>{null!==document.querySelector(".today_time")&&(x=setInterval(U,1e3))}),500):clearInterval(x)}var R=function(){!function(){let e=o.loadFromStorage("language");H="RU"===e||"BY"===e?{control:"Контроль",today:"Погода за сегодня",three:"Прогноз погоды на три дня",geo:"Геолокационные данные"}:{control:"Control",today:"Weather for today",three:"Weather on three days",geo:"Geolocation data"}}();let e=document.querySelector(".header_menu");e&&(e.parentNode.removeChild(e),e.removeEventListener("click",M),e.removeEventListener("click",I));const t=document.querySelector(".application_header"),n=document.createElement("ul");n.classList.add("header_menu"),n.innerHTML=`\n                <li class="header_item"><button class="header_item_link button control">${H.control}</button></li>\n                <li class="header_item"><button class="header_item_link button today">${H.today}</button></li>\n                <li class="header_item"><button class="header_item_link button three">${H.three}</button></li>\n                <li class="header_item"><button class="header_item_link button geo_button">${H.geo}</button></li>\n    `,t.appendChild(n),e=document.querySelector(".header_menu"),e.addEventListener("click",M),e.addEventListener("click",I)};(function(){a("GET","https://ipinfo.io/json?token=fb63a1a1386560").then((e=>{o.createStorage("language",e.country),o.saveToStorage("city",e.city),o.createStorage("degree","ce"),R(),M()})).catch((e=>{console.log(e),o.createStorage("language","RU"),o.saveToStorage("city","Gomel"),o.createStorage("degree","ce"),R(),M()}))})()}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e={179:0},t=[[691,539]],a=function(){};function o(){for(var a,o=0;o<t.length;o++){for(var r=t[o],c=!0,s=1;s<r.length;s++){var i=r[s];0!==e[i]&&(c=!1)}c&&(t.splice(o--,1),a=n(n.s=r[0]))}return 0===t.length&&(n.x(),n.x=function(){}),a}n.x=function(){n.x=function(){},c=c.slice();for(var e=0;e<c.length;e++)r(c[e]);return(a=o)()};var r=function(o){for(var r,c,i=o[0],l=o[1],d=o[2],u=o[3],g=0,m=[];g<i.length;g++)c=i[g],n.o(e,c)&&e[c]&&m.push(e[c][0]),e[c]=0;for(r in l)n.o(l,r)&&(n.m[r]=l[r]);for(d&&d(n),s(o);m.length;)m.shift()();return u&&t.push.apply(t,u),a()},c=self.webpackChunk=self.webpackChunk||[],s=c.push.bind(c);c.push=r}(),n.x()}();